[gd_scene load_steps=5 format=3 uid="uid://jq83utw4hagd"]

[ext_resource type="PackedScene" uid="uid://c610j0q8br2ae" path="res://assets/hitboxes/hitbox3.glb" id="1_v53wo"]
[ext_resource type="Script" uid="uid://hdbrdvgu3qs0" path="res://scripts/entities/SimpleRigidPlayer.cs" id="2_ng4v2"]
[ext_resource type="PackedScene" uid="uid://db5mfageo8ulj" path="res://assets/rigs/new_char.glb" id="2_y5f3b"]
[ext_resource type="Script" uid="uid://bxltufk1m4lgw" path="res://scripts/entities/InteractionRay.cs" id="3_ng4v2"]

[node name="hitbox3" node_paths=PackedStringArray("floorSensors", "yawTarget", "pitchTarget", "headMesh", "mouseLookRotationTarget", "animPlayer") instance=ExtResource("1_v53wo")]
script = ExtResource("2_ng4v2")
floorSensors = NodePath("FootRays")
yawTarget = NodePath("CameraYawTarget")
pitchTarget = NodePath("CameraYawTarget/CameraPitchTarget")
headMesh = NodePath("player_rig_default/head")
mouseLookRotationTarget = NodePath("MouseLookRotationTarget")
animPlayer = NodePath("player_rig_default/AnimationPlayer")

[node name="player_rig_default" parent="." index="1" instance=ExtResource("2_y5f3b")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="head" parent="player_rig_default" index="1"]
transform = Transform3D(1, -3.23531e-13, 3.01992e-07, 1.7053e-13, 1, 5.06639e-07, -3.01992e-07, -5.06639e-07, 1, 1.84029e-14, 1.66968, 6.51927e-09)

[node name="AnimationPlayer" parent="player_rig_default" index="2"]
playback_default_blend_time = 1.0

[node name="FootRays" type="Node3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)

[node name="Middle" type="RayCast3D" parent="FootRays" index="0"]
target_position = Vector3(0, -0.11, 0)

[node name="Right" type="RayCast3D" parent="FootRays" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.3, 0, 0)
target_position = Vector3(0, -0.11, 0)

[node name="RightFront" type="RayCast3D" parent="FootRays" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.2, 0, 0.2)
target_position = Vector3(0, -0.11, 0)

[node name="RightBack" type="RayCast3D" parent="FootRays" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.2, 0, -0.2)
target_position = Vector3(0, -0.11, 0)

[node name="Left" type="RayCast3D" parent="FootRays" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3, 0, 0)
target_position = Vector3(0, -0.11, 0)

[node name="LeftFront" type="RayCast3D" parent="FootRays" index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0, 0.2)
target_position = Vector3(0, -0.11, 0)

[node name="LeftBack" type="RayCast3D" parent="FootRays" index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0, -0.2)
target_position = Vector3(0, -0.11, 0)

[node name="Forward" type="RayCast3D" parent="FootRays" index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.3)
target_position = Vector3(0, -0.11, 0)

[node name="Back" type="RayCast3D" parent="FootRays" index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.3)
target_position = Vector3(0, -0.11, 0)

[node name="ForcePosition" type="Node3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="CameraYawTarget" type="Node3D" parent="." index="4"]
transform = Transform3D(1, -2.91323e-13, 2.38419e-07, 1.7053e-13, 1, 5.0664e-07, -2.38419e-07, -5.06639e-07, 1, 1.79885e-14, 1.66968, 6.51927e-09)
top_level = true

[node name="HeadPosition" type="RemoteTransform3D" parent="CameraYawTarget" index="0"]
remote_path = NodePath("../../player_rig_default/head")
update_rotation = false
update_scale = false

[node name="CameraPitchTarget" type="Node3D" parent="CameraYawTarget" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.77636e-15, -1.19209e-07, 0.1)

[node name="MainPlayerCamera" type="Camera3D" parent="CameraYawTarget/CameraPitchTarget" index="0"]
transform = Transform3D(-1, 8.40257e-19, -1.50996e-07, 6.77626e-20, 1, 9.66338e-13, 1.50996e-07, 0, -1, 1.50996e-08, 0, 0.1)
current = true
fov = 90.0
near = 0.02
far = 100000.0

[node name="RayCast3D" type="RayCast3D" parent="CameraYawTarget/CameraPitchTarget/MainPlayerCamera" index="0"]
transform = Transform3D(-1, 8.13152e-19, 1.50996e-07, 1.76183e-19, 1, 9.66338e-13, -1.50996e-07, 0, -1, 0, 0, 0)
visible = false
target_position = Vector3(0, 0, 30)
script = ExtResource("3_ng4v2")

[node name="CSGTorus3D" type="CSGTorus3D" parent="CameraYawTarget/CameraPitchTarget/MainPlayerCamera/RayCast3D" index="0"]
transform = Transform3D(1, 2.38419e-07, 1.80952e-13, -2.91323e-13, 4.62929e-07, 1, 2.38419e-07, -1, 4.62928e-07, 0, 0, 2)
inner_radius = 0.086
outer_radius = 0.105

[node name="HeadTransformRotation" type="RemoteTransform3D" parent="CameraYawTarget/CameraPitchTarget" index="1"]
remote_path = NodePath("../../../player_rig_default/head")
update_position = false
update_scale = false

[node name="MouseLookRotationTarget" type="Node3D" parent="." index="5"]
transform = Transform3D(1, -2.91323e-13, 2.38419e-07, 1.7053e-13, 1, 5.0664e-07, -2.38419e-07, -5.06639e-07, 1, 0, 0, 0)

[editable path="player_rig_default"]
