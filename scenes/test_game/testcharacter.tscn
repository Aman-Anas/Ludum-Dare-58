[gd_scene load_steps=4 format=3 uid="uid://drug3ug02voqd"]

[ext_resource type="PackedScene" uid="uid://cepoengp70iqy" path="res://assets/meshes/player/testcharacter.blend" id="1_m6gqg"]
[ext_resource type="Script" path="res://scripts/entities/SimpleRigidPlayer.cs" id="2_ijlny"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_kpuik"]
friction = 0.0
bounce = 0.1

[node name="testcharacter" node_paths=PackedStringArray("floorSensors", "yawTarget", "pitchTarget", "headMesh", "animPlayer") instance=ExtResource("1_m6gqg")]
transform = Transform3D(1.00269, 0, 0, 0, 1.00269, 0, 0, 0, 1.00269, 0, 0, 0)
collision_layer = 2
axis_lock_angular_x = true
axis_lock_angular_z = true
physics_material_override = SubResource("PhysicsMaterial_kpuik")
script = ExtResource("2_ijlny")
floorSensors = NodePath("FootRays")
yawTarget = NodePath("CameraYawTarget")
pitchTarget = NodePath("CameraYawTarget/CameraPitchTarget")
headMesh = NodePath("PlayerHead")
animPlayer = NodePath("AnimationPlayer")

[node name="PlayerHead" parent="." index="0"]
transform = Transform3D(0.997317, 2.58497e-19, 2.37779e-07, 2.83447e-14, 0.997317, 2.97221e-08, -2.37779e-07, -2.97221e-08, 0.997317, 2.49074e-14, 1.74628, 0.0247)

[node name="Skeleton3D" parent="rig_player" index="0"]
bones/2/rotation = Quaternion(-0.0568479, 2.86901e-14, -1.35536e-08, 0.998383)
bones/3/rotation = Quaternion(0.27042, 1.14768e-07, 9.67096e-08, 0.962743)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(-0.26091, -1.1508e-07, -9.33085e-08, 0.965363)
bones/5/rotation = Quaternion(-0.139365, -0.717596, -0.422666, 0.535712)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(-0.139365, 0.717596, 0.422666, 0.535712)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.999362, 0.00405305, 0.0153585, 0.0319761)
bones/7/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.0583772, 1.12282e-06, 4.66457e-09, 0.998295)
bones/9/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(-0.528472, -0.0184166, -0.00500968, 0.848736)
bones/12/rotation = Quaternion(-0.00318926, 0.977257, -0.212034, -0.000937534)
bones/13/rotation = Quaternion(0.999362, -0.00405305, -0.0153585, 0.0319761)
bones/13/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(0.0583772, -1.12282e-06, -4.66457e-09, 0.998295)
bones/15/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(-0.528472, 0.0184166, 0.00500968, 0.848736)
bones/18/rotation = Quaternion(0.00318926, 0.977257, -0.212034, 0.000937534)
bones/19/rotation = Quaternion(-0.493167, -0.451538, -0.359942, 0.650647)
bones/19/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(-0.0376549, -0.106292, 0.990933, -0.0730493)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(-4.88944e-08, 6.56582e-08, 9.0804e-08, 1)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(1.58325e-08, -4.19095e-09, -1.04774e-08, 1)
bones/25/rotation = Quaternion(-0.493167, 0.451538, 0.359942, 0.650647)
bones/25/scale = Vector3(1, 1, 1)
bones/26/scale = Vector3(1, 1, 1)
bones/30/scale = Vector3(1, 1, 1)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="rig_player/Skeleton3D" index="3"]
transform = Transform3D(1, -2.55795e-13, 2.38419e-07, 1.7053e-13, 1, 5.06639e-07, -2.38419e-07, -5.06639e-07, 1, 2.49961e-14, 1.54628, 0.0247)
bone_name = "DEF-spine.006"
bone_idx = 4

[node name="CameraRemoteTransform" type="RemoteTransform3D" parent="rig_player/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(1, 1.35003e-13, -2.38419e-07, -2.91323e-13, 1, -5.0664e-07, 2.38419e-07, 5.0664e-07, 1, 2.70894e-14, 0.2, 1.00583e-07)
remote_path = NodePath("../../../../CameraYawTarget")
update_rotation = false
update_scale = false

[node name="AnimationPlayer" parent="." index="2"]
playback_default_blend_time = 1.0

[node name="FootRays" type="Node3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)

[node name="Middle" type="RayCast3D" parent="FootRays" index="0"]
target_position = Vector3(0, -0.11, 0)

[node name="Right" type="RayCast3D" parent="FootRays" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.3, 0, 0)
target_position = Vector3(0, -0.11, 0)

[node name="Left" type="RayCast3D" parent="FootRays" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3, 0, 0)
target_position = Vector3(0, -0.11, 0)

[node name="Forward" type="RayCast3D" parent="FootRays" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.3)
target_position = Vector3(0, -0.11, 0)

[node name="Back" type="RayCast3D" parent="FootRays" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.3)
target_position = Vector3(0, -0.11, 0)

[node name="CameraYawTarget" type="Node3D" parent="." index="4"]
transform = Transform3D(1, 2.55795e-13, -5.11591e-13, -2.55796e-13, 1, -4.76837e-07, 5.11591e-13, 4.76837e-07, 1, 2.49744e-14, 1.75098, 0.0247665)
top_level = true

[node name="CameraPitchTarget" type="Node3D" parent="CameraYawTarget" index="0"]
transform = Transform3D(1, 5.16988e-26, 0, 5.16988e-26, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="HeadRemoteTransform" type="RemoteTransform3D" parent="CameraYawTarget/CameraPitchTarget" index="0"]
transform = Transform3D(1, -2.55795e-13, 2.38419e-07, 1.7053e-13, 1, 5.06639e-07, -2.38419e-07, -5.06639e-07, 1, 0, 0, 0)
remote_path = NodePath("../../../PlayerHead")

[node name="FirstPersonCam" type="Camera3D" parent="CameraYawTarget/CameraPitchTarget" index="1"]
transform = Transform3D(-1, 2.71051e-20, -1.50996e-07, 2.71051e-20, 1, 0, 1.50996e-07, 0, -1, 1.50996e-08, 0, 0.1)
fov = 90.0
